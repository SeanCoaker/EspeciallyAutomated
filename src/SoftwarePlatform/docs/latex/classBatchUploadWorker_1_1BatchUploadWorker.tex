\hypertarget{classBatchUploadWorker_1_1BatchUploadWorker}{}\doxysection{Batch\+Upload\+Worker.\+Batch\+Upload\+Worker Class Reference}
\label{classBatchUploadWorker_1_1BatchUploadWorker}\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
Inheritance diagram for Batch\+Upload\+Worker.\+Batch\+Upload\+Worker\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classBatchUploadWorker_1_1BatchUploadWorker}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classBatchUploadWorker_1_1BatchUploadWorker_a61dbad0ed89a93a02d2819f8419947a7}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, progress\+Bar\+Label, n\+Esp\+Ips, n\+Esp\+Devices, n\+Ip\+Of\+Sender, n\+Udp\+Port, n\+Ota\+Port, n\+Sketch\+Path, n\+Sketch\+Directory, n\+Is\+Timed, n\+Is\+Verbose)
\item 
def \mbox{\hyperlink{classBatchUploadWorker_1_1BatchUploadWorker_aace893d2be3159b24c79db81a47e7c86}{falsify\+Udp\+Responses}} (self)
\item 
def \mbox{\hyperlink{classBatchUploadWorker_1_1BatchUploadWorker_afdc9c691106e81306178951db66ad2b5}{run\+Upload}} (self)
\item 
def \mbox{\hyperlink{classBatchUploadWorker_1_1BatchUploadWorker_a885a894f51ba57ea1fe9391e6263d520}{ping\+Devices}} (self)
\item 
def \mbox{\hyperlink{classBatchUploadWorker_1_1BatchUploadWorker_a6a67b2abe3f9a7e93415e10290fd3e7f}{upload\+Sketch}} (self)
\item 
def \mbox{\hyperlink{classBatchUploadWorker_1_1BatchUploadWorker_aacf243350ecac3c448b7e6a49eeb0506}{start\+Devices}} (self)
\item 
def \mbox{\hyperlink{classBatchUploadWorker_1_1BatchUploadWorker_a85f27ee6504d6f4d71a834513b858725}{wait\+For\+Synchronisation}} (self)
\item 
def \mbox{\hyperlink{classBatchUploadWorker_1_1BatchUploadWorker_a7c7fafa823dc7f7b8ca2f06abf57e009}{kill}} (self)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a702e48b03bb8cb4b4b085bd5805399fb}\label{classBatchUploadWorker_1_1BatchUploadWorker_a702e48b03bb8cb4b4b085bd5805399fb}} 
{\bfseries is\+Killed}
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_ab17f1736bd66ca0a1e7cb5c5176ae1e1}\label{classBatchUploadWorker_1_1BatchUploadWorker_ab17f1736bd66ca0a1e7cb5c5176ae1e1}} 
{\bfseries progress\+Bar\+Label}
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_ab2c61328927b7ab2e3225af00a3ed965}\label{classBatchUploadWorker_1_1BatchUploadWorker_ab2c61328927b7ab2e3225af00a3ed965}} 
{\bfseries ip\+Increments}
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a0abe4c39482b807631f4b11a1855c4d5}\label{classBatchUploadWorker_1_1BatchUploadWorker_a0abe4c39482b807631f4b11a1855c4d5}} 
{\bfseries ip\+Mod}
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a313b2c4e3cce6f2aa8d212ea89f9484b}\label{classBatchUploadWorker_1_1BatchUploadWorker_a313b2c4e3cce6f2aa8d212ea89f9484b}} 
{\bfseries esp\+Increments}
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a59af9fe08d9d9ebc3b7ee8b394d35564}\label{classBatchUploadWorker_1_1BatchUploadWorker_a59af9fe08d9d9ebc3b7ee8b394d35564}} 
{\bfseries esp\+Mod}
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a424aa9b103729bfa28aa9341ebf7d9c1}\label{classBatchUploadWorker_1_1BatchUploadWorker_a424aa9b103729bfa28aa9341ebf7d9c1}} 
{\bfseries loader}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a74800628175149b299bbe40b11eb751d}\label{classBatchUploadWorker_1_1BatchUploadWorker_a74800628175149b299bbe40b11eb751d}} 
{\bfseries finished} = pyqt\+Signal()
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a667f223a7e36c27519edef83a852f3fc}\label{classBatchUploadWorker_1_1BatchUploadWorker_a667f223a7e36c27519edef83a852f3fc}} 
{\bfseries timer\+Start} = pyqt\+Signal()
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a263adcda87245656f861a199069aec95}\label{classBatchUploadWorker_1_1BatchUploadWorker_a263adcda87245656f861a199069aec95}} 
{\bfseries timer\+Stop} = pyqt\+Signal()
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a226103286194a168501c4a71cad3bfa0}\label{classBatchUploadWorker_1_1BatchUploadWorker_a226103286194a168501c4a71cad3bfa0}} 
{\bfseries progress\+Update} = pyqt\+Signal(int, bool)
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a07330501062dd3a2b407ce5293e03201}\label{classBatchUploadWorker_1_1BatchUploadWorker_a07330501062dd3a2b407ce5293e03201}} 
{\bfseries label\+Update} = pyqt\+Signal(str)
\item 
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_af1c554a8065bb2bc186e25ed41ad0822}\label{classBatchUploadWorker_1_1BatchUploadWorker_af1c554a8065bb2bc186e25ed41ad0822}} 
{\bfseries output\+Update} = pyqt\+Signal(str)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Performs the batch upload and timing of synchronisation of an Arduino sketch to ESP devices.

This function is responsible for performing the batch upload and timing of synchronisation of 
an Arduino sketch to ESP devices. When progress is made during the process, this class sends 
signals to the UploadDialogController to update the user interface.

Attributes:
    _espIps: A list of ESP IP addresses to upload to.
    _espDevices: A list of ESP device names used to update DNS in the Arduino sketch.
    _ipOfSender: The IP address of the device that is sending the sketch.
    _udpPort: The UDP port to use for communicationg with the ESP devices.
    _otaPort: The OTA port to use for the over-the-air uploading of sketches.
    _sketchPath: The path to the sketch to upload.
    _sketchDirectory: The directory of the sketch.
    _isTimed: Whether or not the upload should time synchronisation once it is complete.
    _isVerbose: Whether or not to display verbose output.

    finished = pyqtSignal(): A signal to be emitted when the upload process is complete.
    timerStart = pyqtSignal(): A signal to be emitted when the timer should be started.
    timerStop = pyqtSignal(): A signal to be emitted when the timer should be stopped.
    progressUpdate = pyqtSignal(int, bool): A signal to be emitted when the progress of the 
        upload process is updated.
    labelUpdate = pyqtSignal(str): A signal to be emitted when the debug label should be 
        updated.
    outputUpdate = pyqtSignal(str): A signal to be emitted when the output text box should be 
        updated.
\end{DoxyVerb}
 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a61dbad0ed89a93a02d2819f8419947a7}\label{classBatchUploadWorker_1_1BatchUploadWorker_a61dbad0ed89a93a02d2819f8419947a7}} 
\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def Batch\+Upload\+Worker.\+Batch\+Upload\+Worker.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{progress\+Bar\+Label,  }\item[{}]{n\+Esp\+Ips,  }\item[{}]{n\+Esp\+Devices,  }\item[{}]{n\+Ip\+Of\+Sender,  }\item[{}]{n\+Udp\+Port,  }\item[{}]{n\+Ota\+Port,  }\item[{}]{n\+Sketch\+Path,  }\item[{}]{n\+Sketch\+Directory,  }\item[{}]{n\+Is\+Timed,  }\item[{}]{n\+Is\+Verbose }\end{DoxyParamCaption})}

\begin{DoxyVerb}Initialises the worker class for the upload process.

This function is responsible for initialising the worker class for the upload process. It is 
responsible for setting class attributes and determining the size of increments to be added to 
the user interface's progress bar.

Args:
    progressBarLabel: The progress bar label to update with progress information.
    nEspIps: A list of ESP IP addresses to upload to.
    nEspDevices: A list of ESP device names used to update DNS in the Arduino sketch.
    nIpOfSender: The IP address of the device that is sending the sketch.
    nUdpPort: The UDP port to use for communicationg with the ESP devices.
    nOtaPort: The OTA port to use for the over-the-air uploading of sketches.
    nSketchPath: The path to the sketch to upload.
    nSketchDirectory: The directory of the sketch.
    nIsTimed: Whether or not the upload should time synchronisation once it is complete.
    nIsVerbose: Whether or not to display verbose output.
\end{DoxyVerb}
 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_aace893d2be3159b24c79db81a47e7c86}\label{classBatchUploadWorker_1_1BatchUploadWorker_aace893d2be3159b24c79db81a47e7c86}} 
\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}!falsifyUdpResponses@{falsifyUdpResponses}}
\index{falsifyUdpResponses@{falsifyUdpResponses}!BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
\doxysubsubsection{\texorpdfstring{falsifyUdpResponses()}{falsifyUdpResponses()}}
{\footnotesize\ttfamily def Batch\+Upload\+Worker.\+Batch\+Upload\+Worker.\+falsify\+Udp\+Responses (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Falsifies the UDP responses from the ESP devices.

This function is responsible for falsifying the UDP responses from the ESP devices. In effect, 
it sets the boolean value associated with each ESP IP address to False to allow the next round 
of UDP messages to be sent and wait for an acknowledgement.

Args:
    self: The class instance.
\end{DoxyVerb}
 \mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a7c7fafa823dc7f7b8ca2f06abf57e009}\label{classBatchUploadWorker_1_1BatchUploadWorker_a7c7fafa823dc7f7b8ca2f06abf57e009}} 
\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}!kill@{kill}}
\index{kill@{kill}!BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
\doxysubsubsection{\texorpdfstring{kill()}{kill()}}
{\footnotesize\ttfamily def Batch\+Upload\+Worker.\+Batch\+Upload\+Worker.\+kill (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Kills the upload process.

This function stops the animated text in the GUI and kills the upload process by setting the 
isKilled flag to True. This will allow a process to complete before quitting the process.

Args:
    self: The class instance.
\end{DoxyVerb}
 \mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a885a894f51ba57ea1fe9391e6263d520}\label{classBatchUploadWorker_1_1BatchUploadWorker_a885a894f51ba57ea1fe9391e6263d520}} 
\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}!pingDevices@{pingDevices}}
\index{pingDevices@{pingDevices}!BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
\doxysubsubsection{\texorpdfstring{pingDevices()}{pingDevices()}}
{\footnotesize\ttfamily def Batch\+Upload\+Worker.\+Batch\+Upload\+Worker.\+ping\+Devices (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Pings the ESP devices.

This function is responsible for pinging the ESP devices. It sends each ESP device a ping 
message and waits for an acknowledgement. The pinging of a device occurs until an 
acknowledgement is received or a ping message has failed 10 times, at which point False is 
returned.

Args:
    self: The class instance.

Returns:
    True if all the ESP devices are pinged successfully, False otherwise.
\end{DoxyVerb}
 \mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_afdc9c691106e81306178951db66ad2b5}\label{classBatchUploadWorker_1_1BatchUploadWorker_afdc9c691106e81306178951db66ad2b5}} 
\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}!runUpload@{runUpload}}
\index{runUpload@{runUpload}!BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
\doxysubsubsection{\texorpdfstring{runUpload()}{runUpload()}}
{\footnotesize\ttfamily def Batch\+Upload\+Worker.\+Batch\+Upload\+Worker.\+run\+Upload (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Runs the upload process.

This function is responsible for running the upload process and does this by calling all the 
necessary processes needed to complete the upload and time the synchronisation if desired. It 
is also responsible for sending signals to the UploadDialogController to update the user 
interface. After the completion of each process, this funtion makes a check that the previous 
function was completed successfully before beginning the next one.

Args:
    self: The class instance.
\end{DoxyVerb}
 \mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_aacf243350ecac3c448b7e6a49eeb0506}\label{classBatchUploadWorker_1_1BatchUploadWorker_aacf243350ecac3c448b7e6a49eeb0506}} 
\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}!startDevices@{startDevices}}
\index{startDevices@{startDevices}!BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
\doxysubsubsection{\texorpdfstring{startDevices()}{startDevices()}}
{\footnotesize\ttfamily def Batch\+Upload\+Worker.\+Batch\+Upload\+Worker.\+start\+Devices (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Starts the ESP devices.

This function is responsible for starting the ESP devices. It sends each ESP device a start 
message and waits for an acknowledgement. The attempt to start a device occurs until an 
acknowledgement is received or a start message has failed 10 times, at which point False is 
returned.

Args:
    self: The class instance.

Returns:
    True if all the ESP devices are started successfully, False otherwise.
\end{DoxyVerb}
 \mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a6a67b2abe3f9a7e93415e10290fd3e7f}\label{classBatchUploadWorker_1_1BatchUploadWorker_a6a67b2abe3f9a7e93415e10290fd3e7f}} 
\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}!uploadSketch@{uploadSketch}}
\index{uploadSketch@{uploadSketch}!BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
\doxysubsubsection{\texorpdfstring{uploadSketch()}{uploadSketch()}}
{\footnotesize\ttfamily def Batch\+Upload\+Worker.\+Batch\+Upload\+Worker.\+upload\+Sketch (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Uploads the sketch to the ESP devices.

This function is responsible for uploading the sketch to the ESP devices. It first edits the 
DNS name in the sketch to be the name of the ESP device being uploaded to before compiling it 
into a bin file using Arduino's command line interface. It then attempts to upload the sketch 
to the ESP device using the espota script from Espressif. It then checks that the upload was 
successful before returning True. It will try 10 times for a successful upload before 
returning False. This loop is carried out for each specific ESP device.

Args:
    self: The class instance.

Returns:
    True if all the ESP devices are uploaded to successfully, False otherwise.
\end{DoxyVerb}
 \mbox{\Hypertarget{classBatchUploadWorker_1_1BatchUploadWorker_a85f27ee6504d6f4d71a834513b858725}\label{classBatchUploadWorker_1_1BatchUploadWorker_a85f27ee6504d6f4d71a834513b858725}} 
\index{BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}!waitForSynchronisation@{waitForSynchronisation}}
\index{waitForSynchronisation@{waitForSynchronisation}!BatchUploadWorker.BatchUploadWorker@{BatchUploadWorker.BatchUploadWorker}}
\doxysubsubsection{\texorpdfstring{waitForSynchronisation()}{waitForSynchronisation()}}
{\footnotesize\ttfamily def Batch\+Upload\+Worker.\+Batch\+Upload\+Worker.\+wait\+For\+Synchronisation (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Waits for the ESP devices to synchronise.

This function will send a UDP message to each ESP device indefinitely until those ESP devices 
respond to say that they have synchronised. This function can be terminated using the cancel 
button in the GUI.

Args:
    self: The class instance.
\end{DoxyVerb}
 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Batch\+Upload\+Worker.\+py\end{DoxyCompactItemize}
